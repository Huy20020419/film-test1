<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./test1.css">
    <title>Document</title>
</head>
<header>
    <a href="#"><img class="logo1" src="./asset/logo.png" alt=""> <img class="logo2" src="./asset/logo2.png" alt=""></a>
    <ul>
        <li><a href="#" class="active">Thịnh hành</a></li>
        <li>
            <a href="#" class="rank-2">Thể loại <ion-icon name="chevron-down-outline"></ion-icon></a>
            <div>
                <a href="#">hành động</a>
                <a href="#">tâm lý</a>
                <a href="#">kinh dị</a>
                <a href="#">hài hước</a>
                <a href="#">hoạt hình</a>
                <a href="#">lãng mạng</a>
                <a href="#">viễn tưởng</a>
                <a href="#">thần thoại</a>
                <a href="#">chiến tranh</a>
                <a href="#">cổ trang</a>
            </div>
        </li>
        <li><a href="#">Lịch sử</a></li>
        <li><a href="#">Đang theo dõi</a></li>
    </ul>
    <ul>
        <li>
            <form class="form" action="./test.html">
                <div class="form-input">
                    <input name="search" type="text" id="search" required>
                    <label class="placeholder" for="search">Tìm kiếm</label>
                </div>
                <button type="submit"><ion-icon name="search-outline"></ion-icon></button>
            </form>
        </li>
        <li>
            <a href="#">
                <img src="./asset/avatar.png" alt="">
                <ion-icon name="caret-down-outline"></ion-icon>
            </a>
        </li>
    </ul>
</header>
<section class="body">
    <div class="intro">
        <div class="content">
            <h2>love and thunder</h2>
            <span>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
            </span>
            <ul>
                <li>2022</li>
                <li>12+</li>
                <li>1h 55min</li>
                <li>active</li>
            </ul>
            <p>đạo diễn: <span>Taika Waititi</span></p>
            <p>diễn viên: <span>Chris Hemsworth, Tessa Thompson, Natalie Portman</span></p>
            <p>Thần sấm 4: <span>Tình Yêu Và Sấm Sét - Thor 4: Love and Thunder câu chuyện xoay quanh cô nàng tình cũ của anh chàng Thor là Jane Foster, cô là người phàm trần và hiện đang phát hiện bản thân mắc phải căn bệnh ung thư. Thor vì để cứu Jane Foster nên đã truyền sức mạnh của mình qua cho cô và từ đó Jane Foster dần sứng đáng và có thể cầm được cây búa, còn Thor thì mất hết sức mạnh và truyền lại danh hiệu thần sấm cho Jane Foster</span></p>
            <ul>
                <li>
                    <button>watch now</button>
                </li>
                <li>
                    <button>watchlist <ion-icon name="add-outline"></ion-icon></button>
                </li>
            </ul>
        </div>
        <button><ion-icon name="chatbubbles"></ion-icon>bình luận</button>
        <div class="comment">
            <button class="out"><ion-icon name="close-outline"></ion-icon></button>
            <h3>6 hỏi đáp</h3>
            <div class="comment-form">
                <img src="./asset/avatar.png" alt="">
                <div>
                    <div class="textarea" contenteditable="true" aria-multiline="true" role="textbox" spellcheck="false"></div>
                    <div class="buttons">
                        <button>hủy</button>
                        <button>bình luận</button>
                    </div>
                </div>
            </div>
            <div class="comment-box">
                <img src="./asset/avatar.png" alt="">
                <div>
                    <div>
                        <h4>hoàng nguyễn</h4>
                        <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Optio ratione impedit, non cupiditate asperiores saepe facilis culpa, dolores voluptate repellat iste eius inventore exercitationem maiores ut deleniti molestias doloremque explicabo.</p>
                        <ul>
                            <li><img src="./asset/heart.png" alt=""></li>
                            <li><img src="./asset/like.png" alt=""></li>
                            <li>3</li>
                        </ul>
                    </div>
                    <ul>
                        <li>
                            thích
                            <ul>
                                <li><img src="./asset/like.png" alt=""></li>
                                <li><img src="./asset/heart.png" alt=""></li>
                                <li><img src="./asset/laugh.png" alt=""></li>
                                <li><img src="./asset/wow.png" alt=""></li>
                                <li><img src="./asset/sad.png" alt=""></li>
                                <li><img src="./asset/angry.png" alt=""></li>
                            </ul>
                        </li>
                        <li>trả lời</li>
                        <li>17 ngày trước</li>
                    </ul>
                </div>
            </div>
            <div class="comment-box">
                <img src="./asset/avatar.png" alt="">
                <div>
                    <div>
                        <h4>hoàng nguyễn</h4>
                        <p>IE h dừng hoạt động r</p>
                    </div>
                    <ul>
                        <li>
                            thích
                            <ul>
                                <li><img src="./asset/like.png" alt=""></li>
                                <li><img src="./asset/heart.png" alt=""></li>
                                <li><img src="./asset/laugh.png" alt=""></li>
                                <li><img src="./asset/wow.png" alt=""></li>
                                <li><img src="./asset/sad.png" alt=""></li>
                                <li><img src="./asset/angry.png" alt=""></li>
                            </ul>
                        </li>
                        <li>trả lời</li>
                        <li>17 ngày trước</li>
                    </ul>
                </div>
            </div>
            <div class="comment-rep">
                <div>
                    <p>Xem 2 câu trả lời <ion-icon name="chevron-down-outline"></ion-icon></p>
                    <p>Ẩn câu trả lời <ion-icon name="chevron-up-outline"></ion-icon></p>
                </div>
                <div class="comment-box">
                    <img src="./asset/avatar.png" alt="">
                    <div>
                        <div>
                            <h4>hoàng nguyễn</h4>
                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ab earum deserunt laboriosam voluptatem harum libero asperiores fuga in delectus, quas, eos assumenda eveniet quam exercitationem rem voluptas! Ullam, laudantium nesciunt!</p>
                        </div>
                        <ul>
                            <li>
                                thích
                                <ul>
                                    <li><img src="./asset/like.png" alt=""></li>
                                    <li><img src="./asset/heart.png" alt=""></li>
                                    <li><img src="./asset/laugh.png" alt=""></li>
                                    <li><img src="./asset/wow.png" alt=""></li>
                                    <li><img src="./asset/sad.png" alt=""></li>
                                    <li><img src="./asset/angry.png" alt=""></li>
                                </ul>
                            </li>
                            <li>trả lời</li>
                            <li>17 ngày trước</li>
                        </ul>
                    </div>
                </div>
                <div class="comment-box">
                    <img src="./asset/avatar.png" alt="">
                    <div>
                        <div>
                            <h4>hoàng nguyễn</h4>
                            <p>IE h dừng hoạt động r</p>
                        </div>
                        <ul>
                            <li>
                                thích
                                <ul>
                                    <li><img src="./asset/like.png" alt=""></li>
                                    <li><img src="./asset/heart.png" alt=""></li>
                                    <li><img src="./asset/laugh.png" alt=""></li>
                                    <li><img src="./asset/wow.png" alt=""></li>
                                    <li><img src="./asset/sad.png" alt=""></li>
                                    <li><img src="./asset/angry.png" alt=""></li>
                                </ul>
                            </li>
                            <li>trả lời</li>
                            <li>17 ngày trước</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="comment-box">
                <img src="./asset/avatar.png" alt="">
                <div>
                    <div>
                        <h4>hoàng nguyễn</h4>
                        <p>IE h dừng hoạt động r</p>
                    </div>
                    <ul>
                        <li>
                            thích
                            <ul>
                                <li><img src="./asset/like.png" alt=""></li>
                                <li><img src="./asset/heart.png" alt=""></li>
                                <li><img src="./asset/laugh.png" alt=""></li>
                                <li><img src="./asset/wow.png" alt=""></li>
                                <li><img src="./asset/sad.png" alt=""></li>
                                <li><img src="./asset/angry.png" alt=""></li>
                            </ul>
                        </li>
                        <li>trả lời</li>
                        <li>17 ngày trước</li>
                    </ul>
                </div>
            </div>
            <div class="comment-rep">
                <div>
                    <p>Xem 1 câu trả lời <ion-icon name="chevron-down-outline"></ion-icon></p>
                    <p>Ẩn câu trả lời <ion-icon name="chevron-up-outline"></ion-icon></p>
                </div>
                <div class="comment-box">
                    <img src="./asset/avatar.png" alt="">
                    <div>
                        <div>
                            <h4>hoàng nguyễn</h4>
                            <p>IE h dừng hoạt động r</p>
                        </div>
                        <ul>
                            <li>
                                thích
                                <ul>
                                    <li><img src="./asset/like.png" alt=""></li>
                                    <li><img src="./asset/heart.png" alt=""></li>
                                    <li><img src="./asset/laugh.png" alt=""></li>
                                    <li><img src="./asset/wow.png" alt=""></li>
                                    <li><img src="./asset/sad.png" alt=""></li>
                                    <li><img src="./asset/angry.png" alt=""></li>
                                </ul>
                            </li>
                            <li>trả lời</li>
                            <li>17 ngày trước</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="card">
            <span>200000 <ion-icon name="eye-outline"></ion-icon></span>
            <span>201 phút</span>
            <span>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
            </span>
            <div>
                <h3>Ma trận: Hồi sinh</h3>
                <p>the matrix resurrections</p>
            </div>
        </div>
        <div class="card" style="background-image: url(./asset/bg-film1.png);">
            <span>200000 <ion-icon name="eye-outline"></ion-icon></span>
            <span>202 phút</span>
            <span>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
            </span>
            <div>
                <h3>Ma trận: Hồi sinh</h3>
                <p>the matrix resurrections</p>
            </div>
        </div>
        <div class="card" style="background-image: url(./asset/bg-film2.png);">
            <span>200000 <ion-icon name="eye-outline"></ion-icon></span>
            <span>203 phút</span>
            <span>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
            </span>
            <div>
                <h3>Ma trận: Hồi sinh</h3>
                <p>the matrix resurrections</p>
            </div>
        </div>
        <div class="card" style="background-image: url(./asset/bg-film3.png);">
            <span>200000 <ion-icon name="eye-outline"></ion-icon></span>
            <span>204 phút</span>
            <span>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
            </span>
            <div>
                <h3>Ma trận: Hồi sinh</h3>
                <p>the matrix resurrections</p>
            </div>
        </div>
        <div class="card" style="background-image: url(./asset/bg-film4.png);">
            <span>200000 <ion-icon name="eye-outline"></ion-icon></span>
            <span>205 phút</span>
            <span>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
            </span>
            <div>
                <h3>Ma trận: Hồi sinh</h3>
                <p>the matrix resurrections</p>
            </div>
        </div>
        <div class="card" style="background-image: url(./asset/bg-film5.png);">
            <span>200000 <ion-icon name="eye-outline"></ion-icon></span>
            <span>206 phút</span>
            <span>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
            </span>
            <div>
                <h3>Ma trận: Hồi sinh</h3>
                <p>the matrix resurrections</p>
            </div>
        </div>
        <div class="card" style="background-image: url(./asset/bg-film6.png);">
            <span>200000 <ion-icon name="eye-outline"></ion-icon></span>
            <span>207 phút</span>
            <span>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
            </span>
            <div>
                <h3>Ma trận: Hồi sinh</h3>
                <p>the matrix resurrections</p>
            </div>
        </div>
        <div class="card" style="background-image: url(./asset/bg-film7.png);">
            <span>200000 <ion-icon name="eye-outline"></ion-icon></span>
            <span>208 phút</span>
            <span>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
            </span>
            <div>
                <h3>Ma trận: Hồi sinh</h3>
                <p>the matrix resurrections</p>
            </div>
        </div>
        <div class="card" style="background-image: url(./asset/bg-film8.png);">
            <span>200000 <ion-icon name="eye-outline"></ion-icon></span>
            <span>209 phút</span>
            <span>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
            </span>
            <div>
                <h3>Ma trận: Hồi sinh</h3>
                <p>the matrix resurrections</p>
            </div>
        </div>
        <div class="card" style="background-image: url(./asset/bg-film9.png);">
            <span>200000 <ion-icon name="eye-outline"></ion-icon></span>
            <span>210 phút</span>
            <span>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon class="active" name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
            </span>
            <div>
                <h3>Ma trận: Hồi sinh</h3>
                <p>the matrix resurrections</p>
            </div>
        </div>
        <span><ion-icon name="chevron-back"></ion-icon></span>
        <span><ion-icon name="chevron-forward"></ion-icon></span>
    </div>
</section>
<section class="footer">
    <div class="footer-container">
        <a href="#">Bạn có câu hỏi? Liên hệ với chúng tôi.</a>
        <div class="footer-help">
            <div>
                <a href="#">Câu hỏi thường gặp</a>
            </div>
            <div>
                <a href="#">Trung tâm trợ giúp</a>
            </div>
            <div>
                <a href="#">Điều khoản sử dụng</a>
            </div>
            <div>
                <a href="#">Quyền riêng tư</a>
            </div>
            <div>
                <a href="#">Tùy chọn cookie</a>
            </div>
            <div>
                <a href="#">Thông tin doanh nghiệp</a>
            </div>
        </div>
        <div class="footer-languages">
            <div>
                <ion-icon name="earth-outline"></ion-icon>
                <p>Tiếng Việt <ion-icon name="chevron-down-outline"></ion-icon></p>
            </div>
            <ul>
                <li><a href="#">Tiếng Việt</a></li>
                <li><a href="#">English</a></li>
            </ul>
        </div>
    </div>
</section>
<script>
    handleToggleButtonSlider()
    handleInputComment(document.querySelector('.comment > div.comment-form:first-of-type'))
    window.addEventListener('resize', handleToggleButtonSlider)
    window.addEventListener('click', function(e) {
        if(document.querySelector('header > ul:first-of-type > li > a.rank-2').contains(e.target))
            document.querySelector('header > ul:first-of-type > li > a.rank-2').classList.toggle('active')
        else
            document.querySelector('header > ul:first-of-type > li > a.rank-2').classList.remove('active')

        if(!document.querySelector('.footer .footer-languages > div').contains(e.target))
            document.querySelector('.footer .footer-languages').classList.remove('active')
        else 
            document.querySelector('.footer .footer-languages').classList.toggle('active')

        document.querySelectorAll('.comment-box > div:first-of-type > ul:first-of-type > li:first-child').forEach((element) => {
            if(element.contains(e.target))
                element.classList.toggle('active')
            else
                element.classList.remove('active')
        })

    })

    document.querySelectorAll('.body .row').forEach(row => {
        row.querySelector('.body .row > span:last-of-type').onclick = function(e) {
            const firstCard = row.querySelector('.card:first-of-type')
            firstCard.classList.add('disappear1')
            setTimeout(() => {
                row.removeChild(firstCard)
                row.appendChild(firstCard)
                firstCard.classList.remove('disappear1')
            }, 300)
        }

        row.querySelector('.body .row > span:first-of-type').onclick = function(e) {
           const lastCard = row.querySelector('.card:last-of-type')
            row.removeChild(lastCard)
            row.insertBefore(lastCard, row.querySelector('.card:first-of-type'))
            lastCard.classList.add('disappear2')
            setTimeout(() => lastCard.classList.remove('disappear2'), 300)
        }
    })

    document.querySelector('.intro > button:first-of-type').onclick = function() {
        document.querySelector('.intro > .comment').classList.add('active')
    }

    document.querySelector('.intro > .comment > button.out').onclick = function() {
        document.querySelector('.intro > .comment').classList.remove('active')
    }

    document.querySelectorAll('.comment-box').forEach(element => {
        element.querySelector('.comment-box > div:first-of-type > ul:first-of-type > li:nth-child(2)').onclick = function(event) {
            if(!element.querySelector('.comment-box > div:first-of-type > div.comment-form')) {
                const child = document.createElement('div')
                child.classList.add('comment-form')
                child.innerHTML = `
                    <img src="./asset/avatar.png" alt="">
                    <div>
                        <div class="textarea unactive" contenteditable="true" aria-multiline="true" role="textbox" spellcheck="false">  
                            <span contenteditable="false">Hoàng Nguyễn</span>
                            <span>&nbsp;</span>
                        </div>
                        <div class="buttons active">
                            <button>hủy</button>
                            <button class="active">trả lời</button>
                        </div>
                    </div>
                `
                element.querySelector('.comment-box > div:first-of-type').appendChild(child)
                child.querySelector('.buttons > button:first-child').onclick = function() {
                    element.querySelector('.comment-box > div:first-of-type').removeChild(child)
                }
                handleInputComment(child)
            }
        }
    })

    document.querySelector('.comment-form .buttons button:nth-child(1)').onclick = function() {
        document.querySelector('.comment .comment-form .textarea').innerText = ''
        document.querySelector('.comment .comment-form .textarea').classList.remove('unactive')
        document.querySelector('.comment-form .buttons').classList.remove('active')
        document.querySelector('.comment-form .buttons button:nth-child(2)').classList.remove('active')
    } 

    document.querySelectorAll('.comment-rep > div:first-of-type').forEach(element => {
        element.onclick = function() {
            element.classList.toggle('active')
        }
    })

    function handleToggleButtonSlider() {
        document.querySelectorAll('.body .row').forEach(row => {
            let innerWidth = row.querySelectorAll('.card').length
            innerWidth = innerWidth * 250 + (innerWidth - 1) * 30 + 20 * 2
            if(window.innerWidth < innerWidth) 
                row.classList.add('slider')
            else 
                row.classList.remove('slider')
           
        })
    }

    function handleInputComment(element) {
        element.querySelector('.textarea').oninput = function(event) {
            event.target.classList.toggle('unactive', event.target.innerText.trim())
            element.querySelector('.buttons button:nth-child(2)').classList.toggle('active', event.target.innerText.trim())
            element.querySelector('.buttons').classList.toggle('active', event.target.innerText.trim())
        }
    }
</script>
<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</body>
</html>
